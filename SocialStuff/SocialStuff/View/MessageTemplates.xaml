<?xml version="1.0" encoding="utf-8"?>
<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <!-- Text Message Templates -->
    <DataTemplate x:Key="TextMessageTemplateLeft">
        <Grid HorizontalAlignment="Left">
            <Border Background="#39374f" Padding="10" CornerRadius="10" Margin="5"
                    MaxWidth="400">
                <TextBlock Text="{Binding Content}" Foreground="White" TextWrapping="Wrap"/>
            </Border>
        </Grid>
    </DataTemplate>

    <DataTemplate x:Key="TextMessageTemplateRight">
        <Grid HorizontalAlignment="Right">
            <Border Background="#4e6e8e" Padding="10" CornerRadius="10" Margin="5"
                    MaxWidth="400">
                <TextBlock Text="{Binding Content}" Foreground="White" TextWrapping="Wrap"/>
            </Border>
        </Grid>
    </DataTemplate>

    <!-- Image Message Templates -->
    <DataTemplate x:Key="ImageMessageTemplateLeft">
        <Grid HorizontalAlignment="Left">
            <Border Background="Transparent" Padding="5" CornerRadius="10" Margin="5">
                <Image Source="{Binding ImageURL}" MaxWidth="200" Stretch="UniformToFill"/>
            </Border>
        </Grid>
    </DataTemplate>

    <DataTemplate x:Key="ImageMessageTemplateRight">
        <Grid HorizontalAlignment="Right">
            <Border Background="Transparent" Padding="5" CornerRadius="10" Margin="5">
                <Image Source="{Binding ImageURL}" MaxWidth="200" Stretch="UniformToFill"/>
            </Border>
        </Grid>
    </DataTemplate>

    <!-- Transfer Message Templates -->
    <DataTemplate x:Key="TransferMessageTemplateLeft">
        <Grid HorizontalAlignment="Left">
            <Border Background="#39374f" Padding="10" CornerRadius="10" Margin="5" MaxWidth="400">
                <StackPanel>
                    <TextBlock Text="{Binding Amount, ConverterParameter={Binding Currency}}" 
                               Foreground="White" FontWeight="Bold"/>
                    <TextBlock Text="{Binding Description}" Foreground="White" TextWrapping="Wrap"/>
                </StackPanel>
            </Border>
        </Grid>
    </DataTemplate>

    <DataTemplate x:Key="TransferMessageTemplateRight">
        <Grid HorizontalAlignment="Right">
            <Border Background="#4e6e8e" Padding="10" CornerRadius="10" Margin="5" MaxWidth="400">
                <StackPanel>
                    <TextBlock Text="{Binding Amount, ConverterParameter={Binding Currency}}" 
                               Foreground="Black" FontWeight="Bold"/>
                    <TextBlock Text="{Binding Description}" Foreground="Black" TextWrapping="Wrap"/>
                </StackPanel>
            </Border>
        </Grid>
    </DataTemplate>

    <!-- Request Message Templates -->
    <DataTemplate x:Key="RequestMessageTemplateLeft">
        <Grid HorizontalAlignment="Left">
            <Border Background="#39374f" Padding="10" CornerRadius="10" Margin="5" MaxWidth="400">
                <StackPanel>
                    <TextBlock Text="{Binding Amount, ConverterParameter={Binding Currency}}" 
                               Foreground="White" FontWeight="Bold"/>
                    <TextBlock Text="{Binding Description}" Foreground="White" TextWrapping="Wrap"/>
                    <Button Content="Accept Request" Background="#4CAF50" Foreground="White" 
                            HorizontalAlignment="Center" Padding="5" Margin="5" 
                            Command="{Binding AcceptRequestCommand}"/>
                </StackPanel>
            </Border>
        </Grid>
    </DataTemplate>

    <DataTemplate x:Key="RequestMessageTemplateRight">
        <Grid HorizontalAlignment="Right">
            <Border Background="#4e6e8e" Padding="10" CornerRadius="10" Margin="5" MaxWidth="400">
                <StackPanel>
                    <TextBlock Text="{Binding Amount, ConverterParameter={Binding Currency}}" 
                               Foreground="Black" FontWeight="Bold"/>
                    <TextBlock Text="{Binding Description}" Foreground="Black" TextWrapping="Wrap"/>
                    <Button Content="Accept Request" Background="#4CAF50" Foreground="White" 
                            HorizontalAlignment="Center" Padding="5" Margin="5" 
                            Command="{Binding AcceptRequestCommand}"/>
                </StackPanel>
            </Border>
        </Grid>
    </DataTemplate>

</ResourceDictionary>